# 《Go语言四十二章经》第九章 运算符

作者：ffhelicopter（李骁）

## 9.1 内置运算符

* 算术运算符
* 关系运算符
* 逻辑运算符
* 位运算符
* 赋值运算符
* 其他运算符

Go语言的算术运算符：

|运算符|含义|示意|
|:--|:--|:--|
|+	|相加	|A + B |
|-	|相减	|A - B |
|*	|相乘	|A * B |
|/	|相除	|B / A 结果还是整数 8/3=2|
|%	|求余	|B % A |
|++	|自增	|A++ 1|
|--	|自减	|A-- |

Go语言的关系运算符：

|运算符|含义|示意|
|:--|:--|:--|
|==	|检查两个值是否相等。|(A == B) 为 False|
|!=	|检查两个值是否不相等。|(A != B) 为 True|
|\>	|检查左边值是否大于右边值。|(A > B) 为 False|
|<	|检查左边值是否小于右边值。|(A < B) 为 True|
|>=	|检查左边值是否大于等于右边值。|(A >= B) 为 False|
|<=	|检查左边值是否小于等于右边值。|(A <= B) 为 True |

Go语言的逻辑运算符：

|运算符|操作|含义|
|:--|:--|:--|
|&&	|逻辑与|如果两边的操作数都是 True，则条件 True，否则为 False|
|&#124;&#124;|逻辑或| 如果两边的操作数有一个 True，则条件 True，否则为 False|
|!	|逻辑非|如果条件为 True，则逻辑 NOT 条件 False，否则为 True |

Go语言的位运算符：

位运算符对整数在内存中的二进制位进行操作。
下表列出了位运算符 &，|，和 ^ 的计算：

|位|位|& 与|&#124; 或|^ 异或|
|:--|:--:|:--:|:--:|:--:|
|p|	q|	p  & q | p &#124; q|  p ^ q|
|0	|0	|0	 |   0	|  0|
|0	|1	|0	  |  1	|  1|
|1	|1|	1	  |  1	|  0|
|1	|0|	0	  |  1	|  1|

Go 语言支持的位运算符含义。

* &	按位与运算符"&"是双目运算符。 其功能是参与运算的两数各对应的二进位相与。

* |	按位或运算符"|"是双目运算符。 其功能是参与运算的两数各对应的二进位相或。

* ^	按位异或运算符"^"是双目运算符。 其功能是参与运算的两数各对应的二进位相异或，当两对应的二进位相异时，结果为1。

* <<	左移运算符"<<"是双目运算符。左移n位就是乘以2的n次方。 其功能把"<<"左边的运算数的各二进位全部左移若干位，由"<<"右边的数指定移动的位数，高位丢弃，低位补0。

* \>\>	右移运算符">>"是双目运算符。右移n位就是除以2的n次方。 其功能是把">>"左边的运算数的各二进位全部右移若干位，">>"右边的数指定移动的位数。

Go语言的赋值运算符：

|运算符|含义|示意|
|:--|:--|:--|
|=	|简单的赋值运算符||
|+=	|相加后再赋值	|C += A 等于 C = C + A|
|-=	|相减后再赋值	|C -= A 等于 C = C - A|
|*=	|相乘后再赋值	|C *= A 等于 C = C * A|
|/=	|相除后再赋值	|C /= A 等于 C = C / A|
|%=	|求余后再赋值	|C %= A 等于 C = C % A|
|<<=	|左移后赋值 	    |C <<= 2 等于 C = C << 2|
|\>\>=	|右移后赋值 	    |C >>= 2 等于 C = C >> 2|
|&=	|按位与后赋值	|C &= 2 等于 C = C & 2|
|^=	|按位异或后赋值	|C ^= 2 等于 C = C ^ 2|
|&#124;=	|按位或后赋值	|C &#124;= 2 等于 C = C &#124; 2|

Go语言的其他运算符：

|运算符|含义|
|:--|:--|
|&	|返回变量存储地址	&a; 将给出变量的实际地址。|
|*	|指针变量。	        *a; 是一个指针变量|

## 9.2 运算符优先级

有些运算符拥有较高的优先级，二元运算符的运算方向均是从左至右。下表列出了所有运算符以及它们的优先级，由上至下代表优先级由高到低：

|优先级|	运算符|
|:--|:--|
|7 	|^ !|
|6 	|* / % << >> & &^|
|5 	|+ - &#124; ^|
|4 	|== != < <= >= >|
|3 	|<-|
|2 	|&&|
|1 	|&#124;&#124;|

当然，你可以通过使用括号来临时提升某个表达式的整体运算优先级。

## 9.3 几个特殊运算符

位清除 &^：

将指定位置上的值设置为 0。将运算符左边数据相异的位保留，相同位清零 ：

```go
X=2
Y=4
x&^y==x&(^y)
```
首先我们先换算成2进制  0000 0010 &^ 0000 0100 = 0000 0010 如果y bit位上的数是0则取x上对应位置的值， 如果y bit位上为1则结果位上取0

1、如果右侧是0，则左侧数保持不变

2、如果右侧是1，则左侧数一定清零

3、功能同a&(^b)相同

4、如果左侧是变量，也等同于：

```go
var a int
a &^= b
```
^(XOR) 在Go语言中XOR是作为二元运算符存在的：

但是如果是作为一元运算符出现，他的意思是按位取反。

如果作为二元运算符则是, XOR是不进位加法计算，也就是异或计算。0000 0100 + 0000 0010 = 0000 0110 = 6

常见可用于整数和浮点数的二元运算符有 +、-、* 和 /。
（相对于一般规则而言，Go 在进行字符串拼接时允许使用对运算符 + 的重载，但 Go 本身不允许开发者进行自定义的运算符重载）

对于整数运算而言，结果依旧为整数，例如：9 / 4 -> 2。

取余运算符只能作用于整数：9 % 4 -> 1。

浮点数除以 0.0 会返回一个无穷尽的结果，使用 +Inf 表示。

你可以将语句 b = b + a 简写为 b+=a，同样的写法也可用于 -=、\*=、/=、%=。

对于整数和浮点数，你可以使用一元运算符 ++（递增）和 --（递减），但只能用于后缀：

i++ -> i += 1 -> i = i + 1

i-- -> i -= 1 -> i = i - 1

同时，带有 ++ 和 -- 的只能作为语句，而非表达式，因此 n = i++ 这种写法是无效的。

函数 rand.Float32 和 rand.Float64 返回介于 [0.0，1.0) 之间的伪随机数，其中包括 0.0 但不包括 1.0。函数 rand.Intn 返回介于 [0，n) 之间的伪随机数。

你可以使用 Seed(value) 函数来提供伪随机数的生成种子，一般情况下都会使用当前时间的纳秒级数字。



[目录](https://github.com/ffhelicopter/Go42/blob/master/SUMMARY.md)

[第八章 Go项目开发与编译](https://github.com/ffhelicopter/Go42/blob/master/content/42_08_project.md)

[第十章 string](https://github.com/ffhelicopter/Go42/blob/master/content/42_10_string.md)



>本书《Go语言四十二章经》内容在github上同步地址：https://github.com/ffhelicopter/Go42
>
>
>虽然本书中例子都经过实际运行，但难免出现错误和不足之处，烦请您指出；如有建议也欢迎交流。
=======
# 《Go语言四十二章经》第九章 运算符

作者：李骁(ffhelicopter)

## 9.1 内置运算符

* 算术运算符
* 关系运算符
* 逻辑运算符
* 位运算符
* 赋值运算符
* 其他运算符

Go语言的算术运算符：

|运算符|含义|示意|
|:--|:--|:--|
|+	|相加	|A + B |
|-	|相减	|A - B |
|*	|相乘	|A * B |
|/	|相除	|B / A 结果还是整数 8/3=2|
|%	|求余	|B % A |
|++	|自增	|A++ 1|
|--	|自减	|A-- |

Go语言的关系运算符：

|运算符|含义|示意|
|:--|:--|:--|
|==	|检查两个值是否相等。|(A == B) 为 False|
|!=	|检查两个值是否不相等。|(A != B) 为 True|
|\>	|检查左边值是否大于右边值。|(A > B) 为 False|
|<	|检查左边值是否小于右边值。|(A < B) 为 True|
|>=	|检查左边值是否大于等于右边值。|(A >= B) 为 False|
|<=	|检查左边值是否小于等于右边值。|(A <= B) 为 True |

Go语言的逻辑运算符：

|运算符|操作|含义|
|:--|:--|:--|
|&&	|逻辑与|如果两边的操作数都是 True，则条件 True，否则为 False|
|&#124;&#124;|逻辑或| 如果两边的操作数有一个 True，则条件 True，否则为 False|
|!	|逻辑非|如果条件为 True，则逻辑 NOT 条件 False，否则为 True |

Go语言的位运算符：

位运算符对整数在内存中的二进制位进行操作。
下表列出了位运算符 &，|，和 ^ 的计算：

|位|位|& 与|&#124; 或|^ 异或|
|:--|:--:|:--:|:--:|:--:|
|p|	q|	p  & q | p &#124; q|  p ^ q|
|0	|0	|0	 |   0	|  0|
|0	|1	|0	  |  1	|  1|
|1	|1|	1	  |  1	|  0|
|1	|0|	0	  |  1	|  1|

Go 语言支持的位运算符含义。

* &	按位与运算符"&"是双目运算符。 其功能是参与运算的两数各对应的二进位相与。

* |	按位或运算符"|"是双目运算符。 其功能是参与运算的两数各对应的二进位相或。

* ^	按位异或运算符"^"是双目运算符。 其功能是参与运算的两数各对应的二进位相异或，当两对应的二进位相异时，结果为1。

* <<	左移运算符"<<"是双目运算符。左移n位就是乘以2的n次方。 其功能把"<<"左边的运算数的各二进位全部左移若干位，由"<<"右边的数指定移动的位数，高位丢弃，低位补0。

* \>\>	右移运算符">>"是双目运算符。右移n位就是除以2的n次方。 其功能是把">>"左边的运算数的各二进位全部右移若干位，">>"右边的数指定移动的位数。

Go语言的赋值运算符：

|运算符|含义|示意|
|:--|:--|:--|
|=	|简单的赋值运算符||
|+=	|相加后再赋值	|C += A 等于 C = C + A|
|-=	|相减后再赋值	|C -= A 等于 C = C - A|
|*=	|相乘后再赋值	|C *= A 等于 C = C * A|
|/=	|相除后再赋值	|C /= A 等于 C = C / A|
|%=	|求余后再赋值	|C %= A 等于 C = C % A|
|<<=	|左移后赋值 	    |C <<= 2 等于 C = C << 2|
|\>\>=	|右移后赋值 	    |C >>= 2 等于 C = C >> 2|
|&=	|按位与后赋值	|C &= 2 等于 C = C & 2|
|^=	|按位异或后赋值	|C ^= 2 等于 C = C ^ 2|
|&#124;=	|按位或后赋值	|C &#124;= 2 等于 C = C &#124; 2|

Go语言的其他运算符：

|运算符|含义|
|:--|:--|
|&	|返回变量存储地址	&a; 将给出变量的实际地址。|
|*	|指针变量。	        *a; 是一个指针变量|

## 9.2 运算符优先级

有些运算符拥有较高的优先级，二元运算符的运算方向均是从左至右。下表列出了所有运算符以及它们的优先级，由上至下代表优先级由高到低：

|优先级|	运算符|
|:--|:--|
|7 	|^ !|
|6 	|* / % << >> & &^|
|5 	|+ - &#124; ^|
|4 	|== != < <= >= >|
|3 	|<-|
|2 	|&&|
|1 	|&#124;&#124;|

当然，你可以通过使用括号来临时提升某个表达式的整体运算优先级。

## 9.3 几个特殊运算符

位清除 &^：

将指定位置上的值设置为 0。将运算符左边数据相异的位保留，相同位清零 ：

```go
X=2
Y=4
x&^y==x&(^y)
```
首先我们先换算成2进制  0000 0010 &^ 0000 0100 = 0000 0010 如果y bit位上的数是0则取x上对应位置的值， 如果y bit位上为1则结果位上取0

1、如果右侧是0，则左侧数保持不变

2、如果右侧是1，则左侧数一定清零

3、功能同a&(^b)相同

4、如果左侧是变量，也等同于：

```go
var a int
a &^= b
```
^(XOR) 在Go语言中XOR是作为二元运算符存在的：

但是如果是作为一元运算符出现，他的意思是按位取反。

如果作为二元运算符则是, XOR是不进位加法计算，也就是异或计算。0000 0100 + 0000 0010 = 0000 0110 = 6

常见可用于整数和浮点数的二元运算符有 +、-、* 和 /。
（相对于一般规则而言，Go 在进行字符串拼接时允许使用对运算符 + 的重载，但 Go 本身不允许开发者进行自定义的运算符重载）

对于整数运算而言，结果依旧为整数，例如：9 / 4 -> 2。

取余运算符只能作用于整数：9 % 4 -> 1。

浮点数除以 0.0 会返回一个无穷尽的结果，使用 +Inf 表示。

你可以将语句 b = b + a 简写为 b+=a，同样的写法也可用于 -=、\*=、/=、%=。

对于整数和浮点数，你可以使用一元运算符 ++（递增）和 --（递减），但只能用于后缀：

i++ -> i += 1 -> i = i + 1

i-- -> i -= 1 -> i = i - 1

同时，带有 ++ 和 -- 的只能作为语句，而非表达式，因此 n = i++ 这种写法是无效的。

函数 rand.Float32 和 rand.Float64 返回介于 [0.0，1.0) 之间的伪随机数，其中包括 0.0 但不包括 1.0。函数 rand.Intn 返回介于 [0，n) 之间的伪随机数。

你可以使用 Seed(value) 函数来提供伪随机数的生成种子，一般情况下都会使用当前时间的纳秒级数字。



[目录](https://github.com/ffhelicopter/Go42/blob/master/SUMMARY.md)

[第八章 Go项目开发与编译](https://github.com/ffhelicopter/Go42/blob/master/content/42_08_project.md)

[第十章 string](https://github.com/ffhelicopter/Go42/blob/master/content/42_10_string.md)



>本书《Go语言四十二章经》内容在github上同步地址：https://github.com/ffhelicopter/Go42
>
>
>虽然本书中例子都经过实际运行，但难免出现错误和不足之处，烦请您指出；如有建议也欢迎交流。
>联系邮箱：roteman@163.com
>>>>>>> 6286e540c31a666070f3d8cd07fb5b8514bc3229
